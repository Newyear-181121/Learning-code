<h1>
    <center>二. 应用层协议原理</center>
</h1>

 让运行在不同端系统上的应用程序能通过网络互相通讯、传输数据分组。

## 2.1 网络应用程序体系结构

### 2.1.1 客户-服务器体系结构

总有一台服务器，用来服务来自其他客户的请求。

例如 ： web ，FTP，Telnet ，电子邮件，

在此体系中，常常会出现一台服务器无法处理其他所有客户请求的情况，

为此，配备了大量主机的**数据中心**常用于创建强大的虚拟服务器。

### 2.1.2 对等（P2P) 体系结构

此结构对数据中心的专用服务器有最小（或者没有）依赖。

应用程序在间断连接的主机之间使用直接通讯。

该机构最引人入胜的特性之一是**自扩展性**。



### 2.1.2 进程通讯

**进程**（process） 是实际上进行通讯的。

在不同端系统上的进程，通过跨越计算机网络交换**报文**而互相通信。

#### 1. 进程与计算机网络之间的接口

进程通过套接字向网络层发送或接收报文。

套接字是一台主机内应用层与运输层的之间的接口。

套接字是建立网络应用程序的可编程接口。因此套接字也称为 应用程序和网络之间的**应用程序编程接口**

#### 2. 进程寻址

1.  主机地址标识 用**ip地址**标识
2.  主机中指定的进程 用端口号标识。



### 2.1.3 可供应用程序使用的运输服务

具体选择哪种运输层协议，根据应用程序服务要求来选， 按此要求可以分为四个方面。

#### 1. 可靠的数据传输

确保应用程序的一端发送的数据正确、完全地交付给应用程序的另一端。

如果一个协议提供了这样的确保数据交付服务， 就认为提供了**可靠数据传输**

>   运输层协议能够潜在地向应用程序提供一个重要的服务是 进程到进程的可靠数据传输.
>
>   
>
>   当一个运输层协议不提供可靠数据传输是，由发送进程发出的某些数据可能到达不了接收进程。
>
>   这可能能被**容忍丢失的应用**所接受

#### 2. 吞吐量

可用吞吐量是 在沿着一条网络路径上的两个进程之间通信时 ，发送进程能够向接收进程交付的比特速率。

>   可用吞吐量会随时间波动，因为会有其他会话共享改网络路径的带宽，切这些会话随时可能会到达和离开。

运输层协议能够以某种特定的速率提供确保的可用吞吐量。

具有吞吐量要求的应用应用程序被称为**带宽敏感的应用**。

>   带宽敏感的应用就有特定吞吐量要求。
>
>   **弹性应用**

#### 3. 定时

运输层协议也能提供定时保证，

>   发送方注入进套接字中的每个比特到达接收方的套接字不迟于 100 ms

就是保证 传输总时延 在设定时间内。

>   保证较低的时延。

#### 4. 安全性

运输协议能够提供一种或多种安全性服务。

>   例如：在发送主机中，运输协议能够加密由发送进程传输的所有数据，在接收主机中，能把数据解密后交付给接收进程。

机密性、数据完整性和端点鉴别。

### 2.1.4 因特网提供的运输服务

因特网（一般是TCP/IP网络）为应用程序提供两个运输层协议 UDP 和 TCP

#### 1. TCP服务

TCP服务模型包括面向连接服务和可靠数据传输服务。

>   某个应用程序选择这个协议时，tcp就会提供这两种服务。

-   **面向连接的服务**：在应用层数据报文开始流动之前，TCP会在客户和服务器之间建立一个**TCP连接**，

>   这条连接是全双工的，即连接双方的进程可以在此连接上同时进行报文手发。

-   **可靠的数据传送服务**：通信进程能够依靠TCP，无差错，按适当顺序交付所有发送的数据。



